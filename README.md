# YOLO Low Confidence Quiz (頼りない画像認識クイズ) 🤖❓

**AIのものの見方がわかる、物体検出クイズアプリ**

AIによる画像認識は、独自の特徴量に基づいて処理を行うため、時に人間には理解しがたい「勘違い」をすることがあります。
このアプリは、スライダー操作でAIの判断基準（信頼度）をあえて緩めることで、AIが当てずっぽうな推論を始めたり、小さなノイズに過剰反応したりする様子をクイズ形式で体験できます。

**👉 デモアプリはこちら: [https://yolo-low-confidence-quiz-cjgakucpwsg4kqucytceha.streamlit.app/](https://yolo-low-confidence-quiz-cjgakucpwsg4kqucytceha.streamlit.app/)**

## 📖 概要
物体検出モデル（YOLOv8）を使用し、アップロードされた画像内の物体を検出します。
「人間には車に見えるけど、AIにはカバンに見えた」といった、人間とAIの認知のズレを楽しむことを目的としています。

## 📱 スマホ対応（New!）
友人との会話のネタとして、その場で撮影して遊べる体験を重視し、スマートフォンに完全対応しました。

- **カメラ入力の実装:** スマホのカメラを起動し、撮影した写真を即座にクイズ化できます。
- **HEIC形式のサポート:** iPhone等で撮影された高効率画像形式（.heic）も自動変換して読み込めます。
- **レスポンシブUI:** - PC閲覧時：画像を横に並べて一覧性を確保。
    - スマホ閲覧時：縦に並べてスクロールしやすく、親指で操作しやすいボタン配置に変更。

## 🛠 技術選定とこだわり
個人開発において「アイデアを形にするスピード」と「ユーザー体験」を両立させるため、以下の技術を選定しました。

### Python / Streamlit
開発スピードを最重視して採用しました。フロントエンドからバックエンドまでPythonのみで一貫して記述できるため、開発リソースを「画像処理ロジック」や「クイズ体験の向上」といった本質的な機能実装に集中させることができました。
また、Streamlit Cloudを採用することで、スマホ対応に必須となるHTTPS化やサーバー構築のコストを最小限に抑えています。

### YOLOv8 (Nano model)
Webアプリとしてクラウド上で動作させるため、軽量かつ推論速度が速いNanoモデルを選定しました。処理負荷を下げて高速なレスポンスを実現し、ユーザーの待ち時間を最小限に抑えることを優先しました。

## 🎮 機能詳細
- **画像入力:**
    - ファイルアップロード（.jpg, .png, .heic）およびカメラ撮影に対応。
- **信頼度スライダー (Threshold Control):**
    - 信頼度の閾値を `0.0` 〜 `1.0` の範囲で操作可能。
    - `0.01` 刻みで微調整できるため、検出数が急増する「境界線」を観察できます。
- **理不尽クイズ生成:**
    - 検出された物体の中から「最も個数が少なく」かつ「最も信頼度が低い」物体をターゲットにします。
    - AIが自信なさげに判定した物体（または誤検出）を当てる、高難易度クイズが出題されます。

## 🚀 工夫した点（エンジニアリング）
- **セッション管理:**
    - `st.session_state` を活用し、スマホでの誤タップやリロード時にもクイズの進行状況が消えないよう状態管理を行いました。
- **選択肢生成ロジック:**
    - クイズのゲーム性を高めるため、誤答の選択肢は「実際にその画像内に写っている他の物体」から優先的に選ばれるよう実装しました。（候補が足りない場合のみ、全オブジェクト名から補完します）
- **視認性の高いUI設計:**
    - 回答後に「AIの認識結果（Bounding Box）」全体を表示し、答え合わせができるようにしています。

## 👨‍💻 Author
Yuma Shudo